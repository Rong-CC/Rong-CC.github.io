<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Cheng blog</title>
    <meta name="generator" content="VuePress 1.8.3">
    <link rel="icon" href="/https://s2.ax1x.com/2019/11/18/MsjPiT.jpg">
    <meta name="description" content="我的个人网站">
    
    <link rel="preload" href="/assets/css/0.styles.fa3dfa76.css" as="style"><link rel="preload" href="/assets/js/app.daf77b36.js" as="script"><link rel="preload" href="/assets/js/2.0d37371f.js" as="script"><link rel="preload" href="/assets/js/31.06dd0b70.js" as="script"><link rel="prefetch" href="/assets/js/10.e381c51a.js"><link rel="prefetch" href="/assets/js/11.acda7496.js"><link rel="prefetch" href="/assets/js/12.58107eb6.js"><link rel="prefetch" href="/assets/js/13.bbee3a6c.js"><link rel="prefetch" href="/assets/js/14.ad96dd73.js"><link rel="prefetch" href="/assets/js/15.8b0ea883.js"><link rel="prefetch" href="/assets/js/16.5cbd1c63.js"><link rel="prefetch" href="/assets/js/17.1ffbf65c.js"><link rel="prefetch" href="/assets/js/18.51a09faf.js"><link rel="prefetch" href="/assets/js/19.6d3c366b.js"><link rel="prefetch" href="/assets/js/20.2856006e.js"><link rel="prefetch" href="/assets/js/21.674c3575.js"><link rel="prefetch" href="/assets/js/22.ff039523.js"><link rel="prefetch" href="/assets/js/23.6e77d2a8.js"><link rel="prefetch" href="/assets/js/24.940396ae.js"><link rel="prefetch" href="/assets/js/25.0ee28eeb.js"><link rel="prefetch" href="/assets/js/26.aaf10ad1.js"><link rel="prefetch" href="/assets/js/27.c2c5f313.js"><link rel="prefetch" href="/assets/js/28.4c2fe5aa.js"><link rel="prefetch" href="/assets/js/29.5cb0717a.js"><link rel="prefetch" href="/assets/js/3.9017ad84.js"><link rel="prefetch" href="/assets/js/30.d296b319.js"><link rel="prefetch" href="/assets/js/32.b1b57fa1.js"><link rel="prefetch" href="/assets/js/33.cdb218f0.js"><link rel="prefetch" href="/assets/js/34.5c175316.js"><link rel="prefetch" href="/assets/js/35.040f3650.js"><link rel="prefetch" href="/assets/js/36.b431aeb2.js"><link rel="prefetch" href="/assets/js/37.3d1fbe6f.js"><link rel="prefetch" href="/assets/js/38.9e41defa.js"><link rel="prefetch" href="/assets/js/39.41d6e69a.js"><link rel="prefetch" href="/assets/js/4.2f92ee14.js"><link rel="prefetch" href="/assets/js/40.9d86158e.js"><link rel="prefetch" href="/assets/js/41.2ca56466.js"><link rel="prefetch" href="/assets/js/42.853f4cde.js"><link rel="prefetch" href="/assets/js/43.3f8b8343.js"><link rel="prefetch" href="/assets/js/44.f77c1364.js"><link rel="prefetch" href="/assets/js/45.394cd2b2.js"><link rel="prefetch" href="/assets/js/5.40986c20.js"><link rel="prefetch" href="/assets/js/6.3a1eb438.js"><link rel="prefetch" href="/assets/js/7.106026d3.js"><link rel="prefetch" href="/assets/js/8.815c78f5.js"><link rel="prefetch" href="/assets/js/9.b19700e0.js">
    <link rel="stylesheet" href="/assets/css/0.styles.fa3dfa76.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Cheng blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端框架" class="dropdown-title"><span class="title">前端框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端框架" class="mobile-dropdown-title"><span class="title">前端框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/accumulate/vue/v-03.html" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/accumulate/a.html" class="nav-link">
  react
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/environment/a-2.html" class="nav-link">
  javascript
</a></li><li class="dropdown-item"><!----> <a href="/design/01.html" class="nav-link">
  javascript设计模式
</a></li></ul></div></div><div class="nav-item"><a href="/typeScript/t-01.html" class="nav-link">
  typescript
</a></div><div class="nav-item"><a href="https://github.com/Rong-CC" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端框架" class="dropdown-title"><span class="title">前端框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端框架" class="mobile-dropdown-title"><span class="title">前端框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/accumulate/vue/v-03.html" class="nav-link">
  vue
</a></li><li class="dropdown-item"><!----> <a href="/accumulate/a.html" class="nav-link">
  react
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow down"></span></button> <button type="button" aria-label="JavaScript" class="mobile-dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/environment/a-2.html" class="nav-link">
  javascript
</a></li><li class="dropdown-item"><!----> <a href="/design/01.html" class="nav-link">
  javascript设计模式
</a></li></ul></div></div><div class="nav-item"><a href="/typeScript/t-01.html" class="nav-link">
  typescript
</a></div><div class="nav-item"><a href="https://github.com/Rong-CC" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JavaScript 进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/environment/a-2.html" class="sidebar-link">闭包原理</a></li><li><a href="/environment/a-3.html" class="sidebar-link">async/await异步原理</a></li><li><a href="/environment/a-4.html" class="sidebar-link">Eventloop 事件循环</a></li><li><a href="/environment/http.html" class="sidebar-link">HTTP与HTTPS</a></li><li><a href="/environment/a-1.html" class="sidebar-link">github上传使用ssh报错</a></li><li><a href="/environment/jsRex.html" class="sidebar-link">常用正则</a></li><li><a href="/environment/rtmp.html" class="sidebar-link">RTMP流媒体播放</a></li><li><a href="/environment/excel.html" class="sidebar-link">excel导出获取headers名称</a></li><li><a href="/environment/js-tool.html" class="sidebar-link">js工具函数</a></li><li><a href="/environment/a-6.html" class="sidebar-link">目录描述</a></li><li><a href="/environment/vscode-header.html" class="sidebar-link">VsCode 注释头部配置</a></li><li><a href="/environment/mongoldb-setting.html" class="sidebar-link">MonggolDB MAC安装</a></li><li><a href="/environment/commonJs.html" class="sidebar-link">common和ADM</a></li><li><a href="/environment/git.html" class="sidebar-link">git</a></li><li><a href="/environment/record.html" class="sidebar-link">问题记录</a></li><li><a href="/environment/codeNorm.html" aria-current="page" class="active sidebar-link">代码规范定义</a></li><li><a href="/environment/nginx.html" class="sidebar-link">nginx常用命令</a></li><li><a href="/environment/webpack/w-01.html" class="sidebar-link">webpack热更新</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p>项目中多个人员参加，每个的编码风格、和习惯都不一样，导致项目不好code review</p> <p>使用 <strong>EditorConfig + Prettier + ESLint</strong> 组合来实现代码规范化。</p> <p>这样做带来好处：</p> <ul><li>解决团队之间代码不规范导致的可读性差和可维护性差的问题。</li> <li>解决团队成员不同编辑器导致的编码规范不统一问题。</li> <li>提前发现代码风格问题，给出对应规范提示，及时修复。</li> <li>减少代码审查过程中反反复复的修改过程，节约时间。</li> <li>自动格式化，统一编码风格，从此和脏乱差的代码说再见。</li></ul> <h4 id="editorconfgi-配置"><a href="#editorconfgi-配置" class="header-anchor">#</a> EditorConfgi 配置</h4> <p>editorconfig有助于为不同的IDE编辑器处理同一个项目的多个开发人员维护一致编码风格</p> <p>在项目根目录下增加<code>.editorconfig</code> 文件</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token comment"># Editor configuration, see http://editorconfig.org</span>

<span class="token comment"># 表示是最顶层的 EditorConfig 配置文件</span>
root = true

[*] <span class="token comment"># 表示所有文件适用</span>
charset = utf-8 <span class="token comment"># 设置文件字符集为 utf-8</span>
indent_style = space <span class="token comment"># 缩进风格（tab | space）</span>
indent_size = 2 <span class="token comment"># 缩进大小</span>
end_of_line = lf <span class="token comment"># 控制换行类型(lf | cr | crlf)</span>
trim_trailing_whitespace = true <span class="token comment"># 去除行首的任意空白字符</span>
insert_final_newline = true <span class="token comment"># 始终在文件末尾插入一个新行</span>

[*.md] <span class="token comment"># 表示仅 md 文件适用以下规则</span>
max_line_length = off
trim_trailing_whitespace = false

</code></pre></div><p>官网配置：<a href="http://editorconfig.org/" target="_blank" rel="noopener noreferrer">editorconfig.org<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>注意：</p> <ul><li>​	VScode 使用EditorConfig 需要去插件市场下载<strong>EditorConfig for VS Code</strong></li> <li>​	JetBrains 系列（WebStorm、IntelliJ IDEA 等）则不用额外安装插件，可直接使用 EditorConfig 配置。</li></ul> <h4 id="prettier-配置"><a href="#prettier-配置" class="header-anchor">#</a> Prettier 配置</h4> <p>Prettier 是一款强大的代码格式化工具，支持 JavaScript、TypeScript、CSS、SCSS、Less、JSX、Angular、Vue、GraphQL、JSON、Markdown 等语言，基本上前端能用到的文件格式它都可以搞定，是当下最流行的代码格式化工具。</p> <p>官网：<a href="https://prettier.io/" target="_blank" rel="noopener noreferrer">prettier.io/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ol><li><p>安装Prettier</p> <p><code>npm install prettier -D</code> 	 or	 <code>yarn install prettoer -D</code></p></li> <li><p>创建Prettier 配置</p> <p>根目录创建 <code>.prettierrc</code>文件</p></li> <li><p>配置<code>.prettierrc</code> 文件</p> <p>对文件进行配置,  更多配置查看 <a href="https://prettier.io/docs/en/options.html" target="_blank" rel="noopener noreferrer">Prettier-Options<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token punctuation">{</span>
  &quot;useTabs&quot;: false,
  &quot;tabWidth&quot;: 2,
  &quot;printWidth&quot;: 100,
  &quot;singleQuote&quot;: true,
  &quot;trailingComma&quot;: &quot;none&quot;,
  &quot;bracketSpacing&quot;: true,
  &quot;semi&quot;: false
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>prettier 安装且配置好后，使用命令来格式化代码</p> <p><code>npx prettier -- write .</code> <em>格式化所有文件（. 表示所有文件）</em></p> <p>注意：</p> <ul><li>VSCode编辑器使用prettier 配置需要下载插件 <strong>Prettier - Code formatter</strong></li> <li>JetBrains 系列编辑器（WebStorm、IntelliJ IDEA 等）则不用额外安装插件，可直接使用 Prettier 配置。</li></ul></li></ol> <p>Prettier 配置好以后，在使用VSCode 或者 webStorm 等 编辑器的格式化功能时，编辑器会按照Prettier 配置文件的规则来进行格式化，避免了因为编辑器配置不一定导致格式后代码风格不统一的问题。</p> <h4 id="eslint配置"><a href="#eslint配置" class="header-anchor">#</a> Eslint配置</h4> <p>​	<a href="https://github.com/eslint/eslint" target="_blank" rel="noopener noreferrer">ESLint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 是一款用于查找并报告代码中问题的工具，并且支持部分问题自动修复。其核心是通过对代码解析得到的 AST（Abstract Syntax Tree 抽象语法树）进行模式匹配，来分析代码达到检查代码质量和风格问题的能力</p> <ol><li><p>安装ESlint</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code>npm i  eslint -D
</code></pre></div></li> <li><p>配置ESLint</p> <p>ESLint 安装成功后，执行 <code>npx eslint --init</code>,然后按照终端操作提示完成一系列设置来创建配置文件。</p> <ul><li><p>How would you like to use ESLint? （你想如何使用 ESLint?）
选择 <strong>To check syntax, find problems, and enforce code style（检查语法、发现问题并强制执行代码风格）</strong></p></li> <li><p>What type of modules does your project use?（你的项目使用哪种类型的模块?）</p> <p>​	选择 <strong>JavaScript modules (import/export)</strong></p></li> <li><p>Which framework does your project use? （你的项目使用哪种框架?）</p> <p>选择 <strong>Vue.js</strong></p></li> <li><p>Does your project use TypeScript?（你的项目是否使用 TypeScript？）</p> <p>​	根据项目决定(yes/no)</p></li> <li><p>Where does your code run?（你的代码在哪里运行?）</p> <p>​	这样选择 <strong>Browser 和 Node</strong>（按空格键进行选择，选完按回车键确定）</p></li> <li><p>How would you like to define a style for your project?（你想怎样为你的项目定义风格？）</p> <p>​	选择 <strong>Use a popular style guide（使用一种流行的风格指南）</strong></p></li> <li><p>Which style guide do you want to follow?（你想遵循哪一种风格指南?</p> <p>这里选择 <strong>Airbnb</strong></p> <p>ESLint 为我们列出了三种社区流行的 JavaScript 风格指南，分别是</p> <ul><li><a href="https://google.github.io/styleguide/jsguide.html" target="_blank" rel="noopener noreferrer">Google JavaScript Style Guide<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/standard/standard" target="_blank" rel="noopener noreferrer">JavaScript Standard Style<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/airbnb/javascript" target="_blank" rel="noopener noreferrer">Airbnb<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>三份风格指南都是由众多大佬根据多年开发经验编写，足够优秀，全球很多大小公司都在使用。我们选用 <strong>GitHub 上 star 最多的 Airbnb</strong>，免去繁琐的配置 ESLint 规则时间，然后让团队成员去学习 Airbnb JavaScript 风格指南即可。</p></li> <li><p>What format do you want your config file to be in?（你希望你的配置文件是什么格式?）</p> <p>根据上面的选择，ESLint 会自动去查找缺失的依赖，我们这里选择 <strong>Yes</strong>，使用 NPM 下载安装这些依赖包</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code>npm i @typescript-eslint/eslint-plugin @typescript-eslint/parser eslint-config-airbnb-base eslint-plugin-import eslint-plugin-vue -D
 
</code></pre></div></li></ul></li> <li><p>ESLint 配置<code>.eslintrc.js</code></p> <p>在<strong>上一步</strong>操作完成后，会在项目根目录下自动生成 <code>.eslintrc.js</code> 配置文件:</p> <div class="language-nginx extra-class"><pre class="language-nginx"><code><span class="token directive"><span class="token keyword">module.exports</span> =</span> <span class="token punctuation">{</span>
  <span class="token directive"><span class="token keyword">env:</span></span> <span class="token punctuation">{</span>
    browser: true,
    es2021: true,
    node: true
  <span class="token punctuation">}</span>,
  <span class="token directive"><span class="token keyword">extends:</span> [<span class="token string">'plugin:vue/essential'</span>, <span class="token string">'airbnb-base'</span>],
  parserOptions:</span> <span class="token punctuation">{</span>
    ecmaVersion: 12,
    parser: '@typescript-eslint/parser',
    sourceType: 'module'
  <span class="token punctuation">}</span>,
  <span class="token directive"><span class="token keyword">plugins:</span> [<span class="token string">'vue'</span>, <span class="token string">'@typescript-eslint'</span>],
  rules:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>根据项目实际情况在此文件，额外增加ESLint 规则，</p> <p>根据上面配置项目中使用<code>@</code>  会提示错误信息，需要在<code>.eslintrc.js</code>配置</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  rules<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;import/no-unresolved&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;ignore&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;^@/&quot;</span><span class="token punctuation">]</span> <span class="token comment">// @ 是设置的路径别名</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span> 
</code></pre></div><ul><li>VSCode 使用 ESLint 配置文件需要去插件市场下载插件 <strong>ESLint</strong> 。</li> <li>JetBrains 系列（WebStorm、IntelliJ IDEA 等）则不用额外安装插件</li></ul> <p><strong>常用规则</strong></p> <div class="language-bash extra-class"><pre class="language-bash"><code>/* 
   下面这些rules是用来设置从插件来的规范代码的规则，使用必须去掉前缀eslint-plugin-
    主要有如下的设置规则，可以设置字符串也可以设置数字，两者效果一致
    <span class="token string">&quot;off&quot;</span> -<span class="token operator">&gt;</span> <span class="token number">0</span> 关闭规则
    <span class="token string">&quot;warn&quot;</span> -<span class="token operator">&gt;</span> <span class="token number">1</span> 开启警告规则
    <span class="token string">&quot;error&quot;</span> -<span class="token operator">&gt;</span> <span class="token number">2</span> 开启错误规则
  */
<span class="token string">'rules'</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;comma-dangle&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span>, <span class="token string">&quot;never&quot;</span><span class="token punctuation">]</span>, //是否允许对象中出现结尾逗号
      <span class="token string">&quot;no-cond-assign&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //条件语句的条件中不允许出现赋值运算符
      <span class="token string">&quot;no-console&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许出现console语句
      <span class="token string">&quot;no-constant-condition&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //条件语句的条件中不允许出现恒定不变的量
      <span class="token string">&quot;no-control-regex&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //正则表达式中不允许出现控制字符
      <span class="token string">&quot;no-debugger&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许出现debugger语句
      <span class="token string">&quot;no-dupe-args&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //函数定义的时候不允许出现重复的参数
      <span class="token string">&quot;no-dupe-keys&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //对象中不允许出现重复的键
      <span class="token string">&quot;no-duplicate-case&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //switch语句中不允许出现重复的case标签
      <span class="token string">&quot;no-empty&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许出现空的代码块
      <span class="token string">&quot;no-empty-character-class&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //正则表达式中不允许出现空的字符组
      <span class="token string">&quot;no-ex-assign&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //在try catch语句中不允许重新分配异常变量
      <span class="token string">&quot;no-extra-boolean-cast&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许出现不必要的布尔值转换
      <span class="token string">&quot;no-extra-parens&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //不允许出现不必要的圆括号
      <span class="token string">&quot;no-extra-semi&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许出现不必要的分号
      <span class="token string">&quot;no-func-assign&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许重新分配函数声明
      <span class="token string">&quot;no-inner-declarations&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span>, <span class="token string">&quot;functions&quot;</span><span class="token punctuation">]</span>, //不允许在嵌套代码块里声明函数
      <span class="token string">&quot;no-invalid-regexp&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许在RegExp构造函数里出现无效的正则表达式
      <span class="token string">&quot;no-irregular-whitespace&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许出现不规则的空格
      <span class="token string">&quot;no-negated-in-lhs&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许在in表达式语句中对最左边的运算数使用取反操作
      <span class="token string">&quot;no-obj-calls&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许把全局对象属性当做函数来调用
      <span class="token string">&quot;no-regex-spaces&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //正则表达式中不允许出现多个连续空格
      <span class="token string">&quot;quote-props&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //对象中的属性名是否需要用引号引起来
      <span class="token string">&quot;no-sparse-arrays&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //数组中不允许出现空位置
      <span class="token string">&quot;no-unreachable&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //在return，throw，continue，break语句后不允许出现不可能到达的语句
      <span class="token string">&quot;use-isnan&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //要求检查NaN的时候使用isNaN<span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token string">&quot;valid-jsdoc&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span>, <span class="token punctuation">{</span>
          <span class="token string">&quot;requireReturn&quot;</span><span class="token builtin class-name">:</span> false,
          <span class="token string">&quot;requireParamDescription&quot;</span><span class="token builtin class-name">:</span> false,
          <span class="token string">&quot;requireReturnDescription&quot;</span><span class="token builtin class-name">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">]</span>, //强制JSDoc注释
      <span class="token string">&quot;valid-typeof&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span>, <span class="token punctuation">{</span>
          <span class="token string">&quot;requireStringLiterals&quot;</span><span class="token builtin class-name">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span><span class="token punctuation">]</span>, //在使用typeof表达式比较的时候强制使用有效的字符串
      <span class="token string">&quot;block-scoped-var&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //将变量声明放在合适的代码块里
      <span class="token string">&quot;complexity&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //限制条件语句的复杂度
      <span class="token string">&quot;consistent-return&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //无论有没有返回值都强制要求return语句返回一个值
      <span class="token string">&quot;curly&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span>, <span class="token string">&quot;all&quot;</span><span class="token punctuation">]</span>, //强制使用花括号的风格
      <span class="token string">&quot;default-case&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //在switch语句中需要有default语句
      <span class="token string">&quot;dot-notation&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span>, <span class="token punctuation">{</span><span class="token string">&quot;allowKeywords&quot;</span><span class="token builtin class-name">:</span> false, <span class="token string">&quot;allowPattern&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>, //获取对象属性的时候使用点号
      <span class="token string">&quot;eqeqeq&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span>, <span class="token string">&quot;smart&quot;</span><span class="token punctuation">]</span>, //比较的时候使用严格等于
      <span class="token string">&quot;no-alert&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, //不允许使用alert，confirm，prompt语句
      <span class="token string">&quot;no-caller&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许使用arguments.callee和arguments.caller属性
      <span class="token string">&quot;guard-for-in&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //监视for in循环，防止出现不可预料的情况
      <span class="token string">&quot;no-div-regex&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不能使用看起来像除法的正则表达式
      <span class="token string">&quot;no-else-return&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //如果if语句有return，else里的return不用放在else里
      <span class="token string">&quot;no-labels&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span>, <span class="token punctuation">{</span>
          <span class="token string">&quot;allowLoop&quot;</span><span class="token builtin class-name">:</span> false,
          <span class="token string">&quot;allowSwitch&quot;</span><span class="token builtin class-name">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span><span class="token punctuation">]</span>, //不允许标签语句
      <span class="token string">&quot;no-eq-null&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许对null用<span class="token operator">==</span>或者<span class="token operator">!=</span>
      <span class="token string">&quot;no-eval&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许使用eval<span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token string">&quot;no-extend-native&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许扩展原生对象
      <span class="token string">&quot;no-extra-bind&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许不必要的函数绑定
      <span class="token string">&quot;no-fallthrough&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许switch按顺序全部执行所有case
      <span class="token string">&quot;no-floating-decimal&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许浮点数缺失数字
      <span class="token string">&quot;no-implied-eval&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许使用隐式eval<span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token string">&quot;no-iterator&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许使用__iterator__属性
      <span class="token string">&quot;no-lone-blocks&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许不必要的嵌套代码块
      <span class="token string">&quot;no-loop-func&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许在循环语句中进行函数声明
      <span class="token string">&quot;no-multi-spaces&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许出现多余的空格
      <span class="token string">&quot;no-multi-str&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许用<span class="token punctuation">\</span>来让字符串换行
      <span class="token string">&quot;no-global-assign&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许重新分配原生对象
      <span class="token string">&quot;no-new&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许new一个实例后不赋值或者不比较
      <span class="token string">&quot;no-new-func&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许使用new Function
      <span class="token string">&quot;no-new-wrappers&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许使用new String，Number和Boolean对象
      <span class="token string">&quot;no-octal&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许使用八进制字面值
      <span class="token string">&quot;no-octal-escape&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许使用八进制转义序列
      <span class="token string">&quot;no-param-reassign&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //不允许重新分配函数参数<span class="token string">&quot;no-proto&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许使用__proto__属性
      <span class="token string">&quot;no-redeclare&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许变量重复声明
      <span class="token string">&quot;no-return-assign&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许在return语句中使用分配语句
      <span class="token string">&quot;no-script-url&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许使用javascript:void<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
      <span class="token string">&quot;no-self-compare&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许自己和自己比较
      <span class="token string">&quot;no-sequences&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许使用逗号表达式
      <span class="token string">&quot;no-throw-literal&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许抛出字面量错误 throw <span class="token string">&quot;error&quot;</span>
      <span class="token string">&quot;no-unused-expressions&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许无用的表达式
      <span class="token string">&quot;no-void&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许void操作符
      <span class="token string">&quot;no-warning-comments&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token punctuation">{</span><span class="token string">&quot;terms&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token string">&quot;todo&quot;</span>, <span class="token string">&quot;fixme&quot;</span>, <span class="token string">&quot;any other term&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">]</span>, //不允许警告备注
      <span class="token string">&quot;no-with&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许使用with语句
      <span class="token string">&quot;radix&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>, //使用parseInt时强制使用基数来指定是十进制还是其他进制
      <span class="token string">&quot;vars-on-top&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //var必须放在作用域顶部
      <span class="token string">&quot;wrap-iife&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">2</span>, <span class="token string">&quot;any&quot;</span><span class="token punctuation">]</span>, //立即执行表达式的括号风格
      <span class="token string">&quot;yoda&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">2</span>, <span class="token string">&quot;never&quot;</span>, <span class="token punctuation">{</span><span class="token string">&quot;exceptRange&quot;</span><span class="token builtin class-name">:</span> true<span class="token punctuation">}</span><span class="token punctuation">]</span>, //不允许在if条件中使用yoda条件
      <span class="token string">&quot;strict&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">2</span>, <span class="token string">&quot;function&quot;</span><span class="token punctuation">]</span>, //使用严格模式
      <span class="token string">&quot;no-catch-shadow&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许try catch语句接受的err变量与外部变量重名<span class="token string">&quot;no-delete-var&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许使用delete操作符
      <span class="token string">&quot;no-label-var&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许标签和变量同名
      <span class="token string">&quot;no-shadow&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //外部作用域中的变量不能与它所包含的作用域中的变量或参数同名
      <span class="token string">&quot;no-shadow-restricted-names&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //js关键字和保留字不能作为函数名或者变量名
      <span class="token string">&quot;no-undef&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许未声明的变量
      <span class="token string">&quot;no-undef-init&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许初始化变量时给变量赋值undefined
      <span class="token string">&quot;no-undefined&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许把undefined当做标识符使用
      <span class="token string">&quot;no-unused-vars&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">2</span>, <span class="token punctuation">{</span><span class="token string">&quot;vars&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;all&quot;</span>, <span class="token string">&quot;args&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;after-used&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>, //不允许有声明后未使用的变量或者参数
      <span class="token string">&quot;no-use-before-define&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">2</span>, <span class="token string">&quot;nofunc&quot;</span><span class="token punctuation">]</span>, //不允许在未定义之前就使用变量<span class="token string">&quot;indent&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //强制一致的缩进风格
      <span class="token string">&quot;brace-style&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">2</span>, <span class="token string">&quot;1tbs&quot;</span>, <span class="token punctuation">{</span> <span class="token string">&quot;allowSingleLine&quot;</span><span class="token builtin class-name">:</span> false<span class="token punctuation">}</span><span class="token punctuation">]</span>, //大括号风格
      <span class="token string">&quot;camelcase&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">2</span>, <span class="token punctuation">{</span><span class="token string">&quot;properties&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;never&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>, //强制驼峰命名规则
      <span class="token string">&quot;comma-style&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">2</span>, <span class="token string">&quot;last&quot;</span><span class="token punctuation">]</span>, //逗号风格
      <span class="token string">&quot;consistent-this&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">0</span>, <span class="token string">&quot;self&quot;</span><span class="token punctuation">]</span>, //当获取当前环境的this是用一样的风格
      <span class="token string">&quot;eol-last&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //文件以换行符结束
      <span class="token string">&quot;func-names&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //函数表达式必须有名字
      <span class="token string">&quot;func-style&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //函数风格，规定只能使用函数声明或者函数表达式
      <span class="token string">&quot;key-spacing&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">2</span>, <span class="token punctuation">{</span><span class="token string">&quot;beforeColon&quot;</span><span class="token builtin class-name">:</span> false, <span class="token string">&quot;afterColon&quot;</span><span class="token builtin class-name">:</span> true<span class="token punctuation">}</span><span class="token punctuation">]</span>, //对象字面量中冒号的前后空格
      <span class="token string">&quot;max-nested-callbacks&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //回调嵌套深度
      <span class="token string">&quot;new-cap&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">2</span>, <span class="token punctuation">{</span><span class="token string">&quot;newIsCap&quot;</span><span class="token builtin class-name">:</span> true, <span class="token string">&quot;capIsNew&quot;</span><span class="token builtin class-name">:</span> false<span class="token punctuation">}</span><span class="token punctuation">]</span>, //构造函数名字首字母要大写
      <span class="token string">&quot;new-parens&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //new时构造函数必须有小括号
      <span class="token string">&quot;newline-after-var&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //变量声明后必须空一行
      <span class="token string">&quot;no-array-constructor&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许使用数组构造器
      <span class="token string">&quot;no-inline-comments&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //不允许行内注释
      <span class="token string">&quot;no-lonely-if&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //不允许else语句内只有if语句
      <span class="token string">&quot;no-mixed-spaces-and-tabs&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">2</span>, <span class="token string">&quot;smart-tabs&quot;</span><span class="token punctuation">]</span>, //不允许混用tab和空格
      <span class="token string">&quot;no-multiple-empty-lines&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">2</span>, <span class="token punctuation">{</span><span class="token string">&quot;max&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">]</span>, //空行最多不能超过两行
      <span class="token string">&quot;no-nested-ternary&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许使用嵌套的三目运算符
      <span class="token string">&quot;no-new-object&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //禁止使用new Object<span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token string">&quot;fun-call-spacing&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //函数调用时，函数名与<span class="token punctuation">(</span><span class="token punctuation">)</span>之间不能有空格
      <span class="token string">&quot;no-ternary&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //不允许使用三目运算符
      <span class="token string">&quot;no-trailing-spaces&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //一行最后不允许有空格
      <span class="token string">&quot;no-underscore-dangle&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //不允许标识符以下划线开头
      <span class="token string">&quot;no-extra-parens&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //不允许出现多余的括号
      <span class="token string">&quot;one-var&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //强制变量声明放在一起
      <span class="token string">&quot;operator-assignment&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //赋值运算符的风格
      <span class="token string">&quot;padded-blocks&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">2</span>, <span class="token string">&quot;never&quot;</span><span class="token punctuation">]</span>, //块内行首行尾是否空行
      <span class="token string">&quot;quote-props&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //对象字面量中属性名加引号
      <span class="token string">&quot;quotes&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">1</span>, <span class="token string">&quot;single&quot;</span>, <span class="token string">&quot;avoid-escape&quot;</span><span class="token punctuation">]</span>, //引号风格
      <span class="token string">&quot;semi&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">2</span>, <span class="token string">&quot;always&quot;</span><span class="token punctuation">]</span>, //强制语句分号结尾
      <span class="token string">&quot;semi-spacing&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">2</span>, <span class="token punctuation">{</span><span class="token string">&quot;before&quot;</span><span class="token builtin class-name">:</span> false, <span class="token string">&quot;after&quot;</span><span class="token builtin class-name">:</span> true<span class="token punctuation">}</span><span class="token punctuation">]</span>, //分后前后空格
      <span class="token string">&quot;sort-vars&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //变量声明时排序
      <span class="token string">&quot;space-before-blocks&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">2</span>, <span class="token string">&quot;always&quot;</span><span class="token punctuation">]</span>, //块前的空格
      <span class="token string">&quot;space-before-function-paren&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">2</span>, <span class="token punctuation">{</span><span class="token string">&quot;anonymous&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;always&quot;</span>, <span class="token string">&quot;named&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;never&quot;</span><span class="token punctuation">}</span><span class="token punctuation">]</span>, //函数定义时括号前的空格
      <span class="token string">&quot;space-infix-ops&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">2</span>, <span class="token punctuation">{</span><span class="token string">&quot;int32Hint&quot;</span><span class="token builtin class-name">:</span> true<span class="token punctuation">}</span><span class="token punctuation">]</span>, //操作符周围的空格
      <span class="token string">&quot;keyword-spacing&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //关键字前后的空格
      <span class="token string">&quot;space-unary-ops&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">2</span>, <span class="token punctuation">{</span> <span class="token string">&quot;words&quot;</span><span class="token builtin class-name">:</span> true, <span class="token string">&quot;nonwords&quot;</span><span class="token builtin class-name">:</span> false<span class="token punctuation">}</span><span class="token punctuation">]</span>, //一元运算符前后不要加空格
      <span class="token string">&quot;wrap-regex&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2</span>, //正则表达式字面量用括号括起来
      <span class="token string">&quot;no-var&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //使用let和const代替var
      <span class="token string">&quot;generator-star-spacing&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token number">2</span>, <span class="token string">&quot;both&quot;</span><span class="token punctuation">]</span>, //生成器函数前后空格
      <span class="token string">&quot;max-depth&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //嵌套块深度
      <span class="token string">&quot;max-len&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //一行最大长度，单位为字符
      <span class="token string">&quot;max-params&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //函数最多能有多少个参数
      <span class="token string">&quot;max-statements&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //函数内最多有几个声明
      <span class="token string">&quot;no-bitwise&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>, //不允许使用位运算符
      <span class="token string">&quot;no-plusplus&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span> //不允许使用++ --运算符
  <span class="token punctuation">}</span>
</code></pre></div><p>配置好以后，我们在 VSCode 或 WebStorm 等编辑器中开启 ESLin，写代码时，ESLint 就会按照我们配置的规则来进行实时代码检查，发现问题会给出对应错误提示和修复方案。</p> <p>VSCode 在 <code>settings.json</code> 设置文件中，增加以下代码：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code> <span class="token string">&quot;editor.codeActionsOnSave&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;source.fixAll.eslint&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
 <span class="token punctuation">}</span>
</code></pre></div><p>WebStorm 打开设置窗口</p> <div class="language-tex extra-class"><pre class="language-tex"><code>1. 搜索栏搜索 eslint 
2. 选择 EsLint 
3. 选中 Automatic EsLint configuration 和 Run eslint -- fix on save
4. 点击 Apply
5.点击ok
</code></pre></div></li></ol> <h4 id="解决prettier-和-eslint冲突"><a href="#解决prettier-和-eslint冲突" class="header-anchor">#</a> 解决Prettier 和 Eslint冲突</h4> <p>通常大家会在项目中根据实际情况添加一些额外的 ESLint 和 Prettier 配置规则，难免会存在规则冲突情况。</p> <p>解决两者冲突问题，需要用到 <strong>eslint-plugin-prettier</strong> 和 <strong>eslint-config-prettier</strong>。</p> <ul><li><code>eslint-plugin-prettier</code> 将 Prettier 的规则设置到 ESLint 的规则中。</li> <li><code>eslint-config-prettier</code> 关闭 ESLint 中与 Prettier 中会发生冲突的规则。</li></ul> <p>最后形成优先级：<code>Prettier 配置规则</code> &gt; <code>ESLint 配置规则</code>。</p> <ol><li>安装插件</li></ol> <div class="language-nginx extra-class"><pre class="language-nginx"><code>npm i eslint-plugin-prettier eslint-config-prettier -D
</code></pre></div><p>​	注意：安装插件可能因为版本冲突问题，建议降低版本问题</p> <ol start="2"><li>在<code>.eslintrc.js</code>添加 prettier 插件</li></ol> <div class="language- extra-class"><pre class="language-text"><code>module.exports = {
  ...
  extends: [
    'plugin:vue/essential',
    'airbnb-base',
    'plugin:prettier/recommended' // 添加 prettier 插件
  ],
  ...
}
</code></pre></div><p>这样，我们在执行 <code>eslint --fix</code> 命令时，ESLint 就会按照 Prettier 的配置规则来格式化代码，轻松解决二者冲突问题。</p> <h4 id="集成-husky-和-lint-staged"><a href="#集成-husky-和-lint-staged" class="header-anchor">#</a> 集成 husky 和 lint-staged</h4> <p>为了防止开发者禁止ESlint 和Prettier ，或者选择 无视代码格式校验，为了项目统一性</p> <p>​	我们还需要做一些限制，让没通过 ESLint 检测和修复的代码禁止提交，从而保证仓库代码都是符合规范的。</p> <p>为了解决这个问题，我们需要用到 Git Hook，在本地执行 <code>git commit</code> 的时候，就对所提交的代码进行 ESLint 检测和修复（即执行 <code>eslint --fix</code>），如果这些代码没通过 ESLint 规则校验，则禁止提交。</p> <p>实现这一功能，我们借助 <a href="https://github.com/typicode/husky" target="_blank" rel="noopener noreferrer">husky<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> + <a href="https://github.com/okonet/lint-staged" target="_blank" rel="noopener noreferrer">lint-staged<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 。</p> <ul><li><a href="https://github.com/typicode/husky" target="_blank" rel="noopener noreferrer">husky<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> —— Git Hook 工具，可以设置在 git 各个阶段（<code>pre-commit</code>、<code>commit-msg</code>、<code>pre-push</code> 等）触发我们的命令。</li> <li><a href="https://github.com/okonet/lint-staged" target="_blank" rel="noopener noreferrer">lint-staged<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> —— 在 git 暂存的文件上运行 linters。</li></ul> <h5 id="配置-husky"><a href="#配置-husky" class="header-anchor">#</a> 配置 husky</h5> <p>自动配置（推荐）</p> <p>使用 <code>husky-init</code> 命令快速在项目初始化一个 husky 配置。</p> <div class="language-bash extra-class"><pre class="language-bash"><code>npx husky-init <span class="token operator">&amp;&amp;</span> <span class="token function">npm</span> <span class="token function">install</span>
</code></pre></div><p>这行命令做了四件事：</p> <ol><li>安装 husky 到开发依赖</li> <li>在项目根目录下创建 <code>.husky</code> 目录</li> <li>在 <code>.husky</code> 目录创建 <code>pre-commit</code> hook，并初始化 <code>pre-commit</code> 命令为 <code>npm test</code></li> <li>修改 <code>package.json</code> 的 <code>scripts</code>，增加 <code>&quot;prepare&quot;: &quot;husky install&quot;</code></li></ol> <p>husky 包含很多 <code>hook</code>（钩子），常用有：<code>pre-commit</code>、<code>commit-msg</code>、<code>pre-push</code>。这里，我们使用 <code>pre-commit</code> 来触发 ESLint 命令。</p> <p>修改 <code>.husky/pre-commit</code> hook 文件的触发命令：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>eslint --fix ./src --ext .vue,.js,.ts
</code></pre></div><p>上面这个 <code>pre-commit</code> hook 文件的作用是：当我们执行 <code>git commit -m &quot;xxx&quot;</code> 时，会先对 <code>src</code> 目录下所有的 <code>.vue</code>、<code>.js</code>、<code>.ts</code> 文件执行 <code>eslint --fix</code> 命令，如果 ESLint 通过，成功 <code>commit</code>，否则终止 <code>commit</code>。</p> <h5 id="配置-lint-staged"><a href="#配置-lint-staged" class="header-anchor">#</a> 配置 lint-staged</h5> <ol><li>安装 lint-staged</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> i lint-staged -D
</code></pre></div><ol start="2"><li>在 <code>package.json</code>里增加 lint-staged 配置项</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>  <span class="token string">&quot;scripts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    <span class="token punctuation">..</span>.
  <span class="token punctuation">}</span>,
  <span class="token string">&quot;lint-staged&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;*.{vue,js,ts}&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;eslint --fix&quot;</span>
  <span class="token punctuation">}</span>,
   <span class="token string">&quot;dependencies&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
 		<span class="token punctuation">..</span>.
  <span class="token punctuation">}</span>,
</code></pre></div><p>这行命令表示：只对 git 暂存区的 <code>.vue</code>、<code>.js</code>、<code>.ts</code> 文件执行 <code>eslint --fix</code>。</p> <ol start="3"><li>修改 <code>.husky/pre-commit</code> hook 的触发命令为：<code>npx lint-staged</code></li></ol> <p>至此，husky 和 lint-staged 组合配置完成。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/environment/record.html" class="prev">
        问题记录
      </a></span> <span class="next"><a href="/environment/nginx.html">
        nginx常用命令
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.daf77b36.js" defer></script><script src="/assets/js/2.0d37371f.js" defer></script><script src="/assets/js/31.06dd0b70.js" defer></script>
  </body>
</html>
